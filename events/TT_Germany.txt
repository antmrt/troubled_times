add_namespace = TT_INT_Germany

country_event = {
	id = TT_INT_Germany.1 
	desc = TT_INT_Germany.1.d
	title = TT_INT_Germany.1.t

	fire_only_once = yes
	is_triggered_only = yes


	option = {
		ai_chance = {
			base = 2
		}
		name = TT_INT_Germany.1.a
		dismantle_faction = yes
		set_global_flag = compiegne_armistice_signed
		every_country = {
			limit = {
				has_war_with = GER

			}
			white_peace = GER
		}
		every_country = {
			limit = {
				NOT = {
					tag = GER
				}
				is_ai = no
			}
			set_country_flag = compiegne_armistice
		}
		hidden_effect = {
			GER = {
				end_puppet = POL
				end_puppet = UBD
				end_puppet = LIT
				end_puppet = UKR
				end_puppet = BLR
				
			}
			UBD = {country_event = {id = TT_INT_Germany.3 days = 1}}
			GER = {country_event = {id = TT_INT_Germany.2 days = 1}}
			POL = {
				transfer_state = 933
				transfer_state = 784
				transfer_state = 95
				transfer_state = 96
				declare_war_on = {
					target = WUK
					type = annex_everything
				}
			}
			SOV = {
				declare_war_on = {
					target = UKR
					type = civil_war
				}
				add_civil_war_target = UKR
				
				every_state = {
					limit = {
						is_core_of = UKR
						is_controlled_by = SOV
					}
					force_enable_resistance = {
						
						occupier = SOV
						occupied = UKR
					}
					start_resistance = UKR
					set_resistance = 70
				}
			}
			UBD = {
				release = EST
			}
			EST = {
				
				load_oob = "EST_1918"
			}
		}
		
	}

	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		FRA = {
			set_country_flag = crisis_in_progress
		}
		set_global_flag = WW1_continues
	}
} 

country_event = {
	id = TT_INT_Germany.2
	desc = TT_INT_Germany.2.d
	title = TT_INT_Germany.2.t
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = TT_INT_Germany.2.a
		ALS = {
			transfer_state = 28
			hidden_effect = {
				load_oob = "ALS_1918"
			}
		}
		FRA = {
			country_event = { id = TT_INT_France.1 days = 20 }
		}
	}
	option = {
		name = TT_INT_Germany.2.b
		ALS = {
			change_tag_from = ROOT
		}
		ALS = {
			transfer_state = 28
			hidden_effect = {
				load_oob = "ALS_1918"
			}
		}
		FRA = {
			country_event = { id = TT_INT_France.1 days = 20 }
		}
	}
}

country_event = {
	id = TT_INT_Germany.3
	desc = TT_INT_Germany.3.d
	title = TT_INT_Germany.3.t

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = TT_INT_Germany.3.a
		EST = {
			change_tag_from = UBD
		}
		hidden_effect = {
			release = LAT
			LAT = {
				load_oob = "LAT_1918"
			}
		}
	}

	option = {
		name = TT_INT_Germany.3.b
		LAT = {
			change_tag_from = UBD
		}
		hidden_effect = {
			release = LAT
			LAT = {
				load_oob = "LAT_1918"
			}
		}
	}
}

country_event = {
	id = TT_INT_Germany.4
	desc = TT_INT_Germany.4.d
	title = TT_INT_Germany.4.t

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = TT_INT_Germany.4.a
		disband_full_army = yes

		country_lock_all_division_template = yes

		if = {
			limit = {
				has_global_flag = Historical_POL_border
			}
			POL = {
				transfer_state = 865
				transfer_state = 86
				transfer_state = 85
			}
			
		}
		if = {
			limit = {
				has_global_flag = Althist_POL_border
			}
			POL = {
				transfer_state = 865
				transfer_state = 86
				transfer_state = 85
				transfer_state = 5
				transfer_state = 763
			}
		}
		if = {
			limit = {
				has_global_flag = POL_border_pleb
			}
			POL = {
				unlock_decision_tooltip = TT_POL_launch_border_plebiscite
			}
		}
		if = {
			limit = {
				has_global_flag = DEN_border_pleb
			}
			DEN = {
				unlock_decision_tooltip = TT_DEN_launch_border_plebiscite
			}
		}
		if = {
			limit = {
				has_global_flag = SAAR_occupation
			}
			FRA = {
				transfer_state = 789
			}
		}
		if = {
			limit = {
				has_global_flag = RHEINLAND_DMZ_GER
			}
			791 = {
				set_demilitarized_zone = yes
			}
			42 = {
				set_demilitarized_zone = yes
			}
			51 = {
				set_demilitarized_zone = yes
			}
			792 = {
				set_demilitarized_zone = yes
			}
			788 = {
				set_demilitarized_zone = yes
			}
			790 = {
				set_demilitarized_zone = yes
			}
		}
		if = {
			limit = {
				has_global_flag = Rheinland_occupied
			}
			FRA = {
				
				transfer_state = 42
				transfer_state = 51
				transfer_state = 792
				
				
			}
		}
		if = {
			limit = {
				has_global_flag = Air_restriction_GER
			}
			add_ideas = GER_versailles_restriction_air
		}
		if = {
			limit = {
				has_global_flag = tank_restriction_GER
			}
			add_ideas = GER_versailles_restriction_tank
		}
	}
}

country_event = {
	id = TT_INT_Germany.5
	desc = TT_INT_Germany.5.d
	title = TT_INT_Germany.5.t

	is_triggered_only = yes

	option = {
		every_country = {
			limit = {
				OR = {
					is_subject_of = GER
					tag = GER
				}
			}
			white_peace = FRA
		}
	}
}